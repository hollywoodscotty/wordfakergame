
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Word Faker Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }
    .card {
      background: #1e1e1e;
      padding: 6vh 6vw;
      border-radius: 24px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.6);
      width: 90vw;
      height: 90vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      overflow: hidden;
    }
    h1 {
      font-size: clamp(3rem, 6vw, 6rem);
      margin: 0 0 3vh 0;
    }
    h2 {
      font-size: clamp(2.5rem, 5vw, 5rem);
      margin: 0 0 3vh 0;
    }
    p {
      font-size: clamp(2rem, 4vw, 4rem);
    }
    input {
      padding: 1vh 1vw;
      font-size: clamp(2rem, 4vw, 4rem);
      width: 60%;
      text-align: center;
      border-radius: 12px;
      border: none;
      display: block;
      margin: 3vh auto;
    }
    button {
      padding: 1.5vh 3vw;
      font-size: clamp(2rem, 4vw, 4rem);
      margin-top: 3vh;
      cursor: pointer;
      border: none;
      border-radius: 16px;
      background: #4caf50;
      color: #000;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .countdown {
      font-size: clamp(5rem, 10vw, 10rem);
      margin-top: 2vh;
    }
    .value {
      font-size: clamp(5rem, 10vw, 10rem);
      font-weight: bold;
      letter-spacing: 0.2em;
    }
    .player-bar {
      display: flex;
      justify-content: center;
      gap: 2vw;
      margin-bottom: 3vh;
      flex-wrap: wrap;
    }
    .player {
      opacity: 0.5;
      font-size: 2.5rem;
      transition: all 0.3s ease;
    }
    .player.active {
      opacity: 1;
      font-size: 4rem;
    }
    .score-row {
      margin: 2vh;
      font-size: 2.5rem;
    }
    .score-row button {
      font-size: 2rem;
      margin: 0 1vw;
      padding: 0.5vh 1.5vw;
    }
  </style>
</head>
<body>
  <div class="card" id="app"></div>

<script>
const WORD_BANK = [
  "APPLE","BANANA","ORANGE","HOUSE","CAR","TRAIN","PLANE","BOAT","RIVER",
  "OCEAN","BEACH","MOUNTAIN","FOREST","DESERT","CLOUD","RAIN","SNOW",
  "THUNDER","LIGHTNING","FIRE","SMOKE","STONE","ROCK","SAND","CHAIR",
  "TABLE","COUCH","BED","PILLOW","BLANKET","CLOCK","WATCH","PHONE",
  "COMPUTER","SCREEN","KEYBOARD","MOUSE","CAMERA","LIGHT","LAMP","DOOR",
  "WINDOW","FLOOR","CEILING","WALL","STAIRS","BRIDGE","ROAD","STREET",
  "CITY","TOWN","VILLAGE","SCHOOL","CLASS","TEACHER","STUDENT","BOOK",
  "PAPER","PENCIL","PEN","ERASER","BAG","BACKPACK","SHOES","HAT","COAT",
  "SHIRT","PANTS","FOOD","BREAD","CHEESE","MILK","WATER","COFFEE","TEA",
  "SUGAR","SALT","PEPPER","CAKE","COOKIE","ICE","CANDLE","MIRROR",
  "MUSIC","SONG","MOVIE","GAME","BALL","TOY","GIFT"
];

const EMOJI_BANK = [
  "üê∂","üê±","üê≠","üêπ","üê∞","ü¶ä","üêª","üêº","üê®","üêØ",
  "ü¶Å","üêÆ","üê∑","üê∏","üêµ","üêî","üêß","üê¶","üê§","ü¶Ü",
  "ü¶â","ü¶á","üê∫","üêó","üê¥","ü¶Ñ","üêù","ü¶ã","üêå","üê¢"
];

const app = document.getElementById("app");

let players = 4;
let currentPlayer = 1;
let secretWord = "";
let oddPlayer = 1;
let playerEmojis = [];
let playerPoints = [];

let countdownInterval = null;
let countdownCallback = null;

const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

function playBlip() {
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.frequency.value = 880;
  gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.08);
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + 0.08);
}

function renderPlayerBar() {
  return `
    <div class="player-bar">
      ${playerEmojis.map((e,i)=>`
        <div class="player ${i+1===currentPlayer?"active":""}">
          ${e} (${playerPoints[i]})
        </div>`).join("")}
    </div>
  `;
}

function showStartScreen() {
  app.innerHTML = `
    <h1>Word Faker Game</h1>
    <p>How many players?</p>
    <input id="playerInput" placeholder="4" />
    <button onclick="startGame()">Start</button>
  `;
}

function startGame() {
  audioCtx.resume();
  const input = parseInt(document.getElementById("playerInput").value, 10);
  players = Number.isFinite(input) && input > 0 ? input : 4;

  if (playerPoints.length !== players) {
    playerPoints = Array(players).fill(0);
  }

  currentPlayer = 1;
  secretWord = WORD_BANK[Math.floor(Math.random()*WORD_BANK.length)];
  oddPlayer = Math.floor(Math.random()*players)+1;

  const shuffled = [...EMOJI_BANK].sort(()=>Math.random()-0.5);
  playerEmojis = shuffled.slice(0, players);

  showReadyScreen();
}

function showReadyScreen() {
  showCountdown(`${renderPlayerBar()}<h2>Player ${currentPlayer} ready?</h2>`,5,showValueScreen);
}

function showValueScreen() {
  const value = currentPlayer===oddPlayer?"???":secretWord;
  showCountdown(`${renderPlayerBar()}<div class="value">${value}</div>`,5,nextPlayer);
}

function nextPlayer() {
  if (currentPlayer < players) {
    currentPlayer++;
    showReadyScreen();
  } else {
    showEndScreen();
  }
}

function showEndScreen() {
  app.innerHTML = `
    ${renderPlayerBar()}
    <h1>Now PLAY!</h1>
    <button onclick="showRevealScreen()">Reveal</button>
  `;
}

function showRevealScreen() {
  app.innerHTML = `
    ${renderPlayerBar()}
    <h1>Reveal</h1>
    <p>${playerEmojis[oddPlayer-1]} was The Faker</p>
    <button onclick="showGuessScreen()">Faker Guess</button>
  `;
}

function showGuessScreen() {
  app.innerHTML = `
    ${renderPlayerBar()}
    <h1>Faker Guess</h1>
    <input id="guessInput" placeholder="Guess the word" />
    <button onclick="showScoreScreen()">Submit</button>
  `;
}

function showScoreScreen() {
  app.innerHTML = `
    <h1>Adjust Scores</h1>
    ${playerEmojis.map((e,i)=>`
      <div class="score-row">
        ${e} (${playerPoints[i]})
        <button onclick="playerPoints[${i}]++">+</button>
        <button onclick="playerPoints[${i}]--">-</button>
      </div>`).join("")}
    <button onclick="startGame()">Next Round</button>
  `;
}

function skipCountdown() {
  clearInterval(countdownInterval);
  countdownCallback && countdownCallback();
}

function showCountdown(message, seconds, callback) {
  clearInterval(countdownInterval);
  countdownCallback = callback;
  let remaining = seconds;

  app.innerHTML = `
    ${message}
    <div class="countdown" id="count">${remaining}</div>
    <button onclick="skipCountdown()">Skip</button>
  `;

  countdownInterval = setInterval(()=>{
    playBlip();
    remaining--;
    document.getElementById("count").textContent = remaining;
    if (remaining <= 0) {
      clearInterval(countdownInterval);
      setTimeout(callback,300);
    }
  },1000);
}

showStartScreen();
</script>
</body>
</html>
